<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <div class="btn-container">
        <button class="btn rock">Rock</button>
        <button class="btn paper">Paper</button>
        <button class="btn scissors">Scissors</button>
    </div>

<script>

// Initialize variable
let userScore = 0;
let computerScore = 0;
const playerSelection = null;
const computerSelection = null;



//create variable to select the container
const container = document.querySelector(".btn-container");

//create variable to select the button element
const btnRock = document.querySelector(".rock");
const btnPaper = document.querySelector(".paper");
const btnScissors = document.querySelector(".scissors");

const score = document.createElement("div")



// create variable to create new element to be added later
const content = document.createElement("div");
const done= document.createElement("div");
const reset = document.createElement("button");

//to input what computer chose randomly
function computerPlay() {
    const choice = "";
    let randomNumber = Math.floor(Math.random()*3);
    if (randomNumber === 0) {
        const choice = "Rock";
        return choice;
    } else if (randomNumber === 1) {
       const choice = "Paper";
       return choice;
    } else {
        const choice = "Scissors";
        return choice;
    }   
}

//function to determine if the game over or not
function isGameContinue(userScore, computerScore) {
    if (userScore < 5 && computerScore < 5) {
        return true;
    } else {
        return false;
    }
}

//determine win or lose
const status = (userScore, computerScore) => {
    if (userScore > computerScore){
        return "Win";
    } else {return "Lose"}
}




//function to determine who win and lose based on argument
function playRound(playerSelection, computerSelection) {

    if (playerSelection === computerSelection){
        content.textContent = `It's Tie. You chose ${playerSelection} and Computer chose ${computerSelection}.`;
        container.appendChild(content);
        score.textContent = `You: ${userScore} COM: ${computerScore}`;
        container.appendChild(score);
        const isOk = isGameContinue(userScore,computerScore);
       
    }

    else if (playerSelection === "Rock" && computerSelection === "Scissors") {
        content.textContent = `You Win! ${playerSelection} beats ${computerSelection}.`;
        container.appendChild(content);
        userScore += 1;
        score.textContent = `You: ${userScore} COM: ${computerScore}`;
        container.appendChild(score);
        const isOk = isGameContinue(userScore,computerScore);
        if (isOk === false) {
            const statusLabel = status(userScore, computerScore);
            done.textContent = `Game Over. You ${statusLabel}.`;
            reset.setAttribute("onclick","document.location.reload()");
            reset.textContent = "Play Again?";
            container.appendChild(done);
            container.appendChild(reset);
        }
       
    }

    else if (playerSelection === "Rock" && computerSelection === "Paper") {
        content.textContent = `You Lose! ${computerSelection} beats ${playerSelection}.`;
        container.appendChild(content);
        computerScore += 1;
        score.textContent = `You: ${userScore} COM: ${computerScore}`;
        container.appendChild(score);
        const isOk = isGameContinue(userScore,computerScore);
        if (isOk === false) {
            const statusLabel = status(userScore, computerScore);
            done.textContent = `Game Over. You ${statusLabel}.`;
            reset.setAttribute("onclick","document.location.reload()")
            reset.textContent = "Play Again?";
            container.appendChild(done);
            container.appendChild(reset);
        }
    }

    else if (playerSelection === "Paper" && computerSelection === "Rock") {
        content.textContent = `You Win! ${playerSelection} beats ${computerSelection}.`;
        container.appendChild(content);
        userScore += 1;
        score.textContent = `You: ${userScore} COM: ${computerScore}`;
        container.appendChild(score);
        const isOk = isGameContinue(userScore,computerScore);
        if (isOk === false) {
            const statusLabel = status(userScore, computerScore);
            done.textContent = `Game Over. You ${statusLabel}.`;
            reset.setAttribute("onclick","document.location.reload()")
            reset.textContent = "Play Again?";
            container.appendChild(done);
            container.appendChild(reset);
        }
    }

    else if (playerSelection === "Paper" && computerSelection === "Scissors") {
        content.textContent = `You Lose! ${computerSelection} beats ${playerSelection}.`;
        container.appendChild(content);
        computerScore += 1;
        score.textContent = `You: ${userScore} COM: ${computerScore}`;
        container.appendChild(score);
        const isOk = isGameContinue(userScore,computerScore);
        if (isOk === false) {
            const statusLabel = status(userScore, computerScore);
            done.textContent = `Game Over. You ${statusLabel}.`;
            reset.setAttribute("onclick","document.location.reload()")
            reset.textContent = "Play Again?";
            container.appendChild(done);
            container.appendChild(reset);
        }
    }

    else if (playerSelection === "Scissors" && computerSelection === "Paper") {
        content.textContent = `You Win! ${playerSelection} beats ${computerSelection}.`;
        container.appendChild(content);
        userScore += 1;
        score.textContent = `You: ${userScore} COM: ${computerScore}`;
        container.appendChild(score);
        const isOk = isGameContinue(userScore,computerScore);
        if (isOk === false) {
            const statusLabel = status(userScore, computerScore);
            done.textContent = `Game Over. You ${statusLabel}.`;
            reset.setAttribute("onclick","document.location.reload()")
            reset.textContent = "Play Again?";
            container.appendChild(done);
            container.appendChild(reset);
        }
    }

    else {
        content.textContent = `You Lose! ${computerSelection} beats ${playerSelection}.`;
        container.appendChild(content); 
        computerScore += 1;   
        score.textContent = `You: ${userScore} COM: ${computerScore}`;
        container.appendChild(score);
        const isOk = isGameContinue(userScore,computerScore);
        if (isOk === false) {
            const statusLabel = status(userScore, computerScore);
            done.textContent = `Game Over. You ${statusLabel}.`;
            reset.setAttribute("onclick","document.location.reload()")
            reset.textContent = "Play Again?";
            container.appendChild(done);
            container.appendChild(reset);
        }
    } } 




//add event listener to button
function game (){
btnRock.addEventListener("click", function() {
playRound("Rock", computerPlay());
});
btnPaper.addEventListener("click", function() {
playRound("Paper", computerPlay());
});
btnScissors.addEventListener("click", function() {
playRound("Scissors", computerPlay()); });
}

game();
</script>
</body>
</html>